<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Producto|PriceSeeker</title>
    <link rel="stylesheet" href="{{url_for('static', filename= 'css/style-banner.css')}}">
    <link rel="stylesheet" href="{{url_for('static', filename= 'css/style-footer.css')}}">
    <link rel="stylesheet" href="{{url_for('static', filename= 'css/style-searcher.css')}}">
    <link rel="stylesheet" href="{{url_for('static', filename= 'css/style-product.css')}}">
    <link rel="stylesheet" href="{{url_for('static', filename= 'css/style-characteristics.css')}}">
    <link rel="stylesheet" href="{{url_for('static', filename= 'css/style-recommendation.css')}}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css">
</head>
<body style="background-color: #d9d9d9;">
    
    <!--Banner/menu de arriba-->
  <div class="banner">
    <div class="logo">
      <img src="/static/images/logo.png" alt="Logo">
      <span class="nombre_sitio"><a href="{{url_for('inicio')}}" class="nombre_sitio">
            PriceSeeker
          </a>
        </span>
    </div>

    <!--Buscador-->
    <div class="buscador" style="text-align: center; display: flex; padding-right: 5%;">
      <form method="get" action="/busqueda">
        <input type="text" id="buscador" name="q" value="{{termino}}" placeholder="Buscar producto" autocomplete="off">
        <button type="submit" class="icono"><a href="{{url_for('busqueda')}}" class="icon"><i class="fa-solid fa-magnifying-glass fa-xl"></i></a></button>
      </form>

        <!--Mostrar resultados-->
        <div id="resultados"></div>
    </div>
  
    <div class="perfil" style="display: flex; padding-right:4%;"> 
      <a href= "{{ url_for('iniciar_sesion')}}">                                                      
          Iniciar Sesion
      </a>
    </div>
  </div> 
  <br><br>

  <div class="producto">
    <div class="image">
      {% if not producto.imagen %}
        <img src="/static/images/ND.jpeg" alt="">
      {% else %}
        <img src="{{ producto.imagen }}" alt="Imagen del producto">
      {% endif %}
    </div>
    <div class="details">
      <h2 class="nombre">{{ producto.descripcion }}</h2>
      <br><br>
      <div class="precios">
        <span class="p_actual"> {{ producto.precio_actual }} </span>
        <span class="p_original">{{ producto.precio_normal }}</span>
        <br><br><br><br>
      </div>
      <div class="boton">
        <button class="add">Añadir a lista</button>
      </div>
    </div>
  </div>
<br><br><br>

<!--Tarjeta de las recomendaciones-->
  <div class="recommendations">
    <!-- Cada producto similar se renderiza dentro de este div --> 
    {% for similar in recomendaciones[:4] %}
      <div class="card">
          <div class="r-image">
            {% if not similar.imagen %}
              <img src="/static/images/ND.jpeg">
              {% else %}
              <img src="{{ similar.imagen }}" alt="">
            {% endif %}
          </div>
          <div class="r-details">
            <span class="r-name">{{ similar.descripcion }}</span>
            <span class="r-price">{{ similar.precio_actual }}</span>
            <a href="/producto/{{ similar.id_producto }}" class="boton-ver-mas">Ver más</a>
          </div>
      </div>
    {% endfor %}
  </div>
<br><br><br><br>

<footer>
<p>@PriceSeeker <br> Todos los derechos reservados 2024</p>
</footer>

<!--Script para el buscador -->
<script src="{{ url_for('static', filename='js/busquedaRealTime.js') }}"></script>
</body>
</html>